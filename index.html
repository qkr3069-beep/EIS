<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>OmniCare EIS · Main</title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css" />

<style>
html,body{ font-family:"Pretendard Variable", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
.card{
  border:1px solid #e5e7eb; border-radius:16px; background:#fff;
  box-shadow:0 8px 24px rgba(15,23,42,.06);
}
.muted{ color:#64748b; }
.divider{ height:1px; background:#e5e7eb; }
.chip{ border:1px solid #e5e7eb; border-radius:999px; padding:.25rem .6rem; font-size:.8rem; color:#334155; background:#f8fafc; }
.btn2{ border:1px solid #e5e7eb; background:#fff; color:#0f172a; border-radius:12px; padding:.55rem .9rem; font-weight:700; }
.small{ font-size:.85rem; }

/* ===== 차트 (이미지 스타일 유사) ===== */
.chart-wrap{
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: 64px;   /* ← 막대 폭 (여기서 조절) */
  gap:12px;
  align-items:end;
  overflow-x:auto;
  padding-bottom:6px;
}

/* 스크롤바 예쁘게(선택) */
.chart-wrap::-webkit-scrollbar{
  height:6px;
}
.chart-wrap::-webkit-scrollbar-thumb{
  background:#cbd5f5;
  border-radius:999px;
}
.chart-wrap::-webkit-scrollbar-track{
  background:#f1f5f9;
}
.bar-col{ display:flex; flex-direction:column; align-items:center; gap:6px; }
.bar-area{
  position:relative; width:100%; height:250px;
  display:flex; align-items:flex-end;
}
.bar-goal{
  width:100%;
  background:#e5e7eb;
  border-radius:8px;
  position:absolute;
  bottom:0;
}
.bar-actual{
  width:56%;
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  border-radius:6px;
}

/* KMI: 목표 회색 / 누계 진한(검정계열) */
.kmi-actual{ background:#0f172a; }

/* OmniCare: 목표 하늘색 / 누계 진한 남색 */
.omni-goal{ background:#bfdbfe; }
.omni-actual{ background:#1e3a8a; }

.top-num{ font-size:.75rem; color:#374151; font-weight:800; }
.mid-diff{ font-size:.75rem; font-weight:900; color:#dc2626; }
.bottom-num{ font-size:.75rem; color:#0f172a; font-weight:900; }
.bar-label{ font-size:.8rem; font-weight:800; color:#0f172a; text-align:center; }

/* ===== 뉴스 ===== */
.newsGrid{
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
}
@media (min-width: 1024px){
  .newsGrid{ grid-template-columns: repeat(2, 1fr); }
}
.newsCard{
  border:1px solid #e5e7eb;
  border-radius:14px;
  padding:14px;
  background:#fff;
}
.newsItem{
  padding:10px 12px;
  border:1px solid #e5e7eb;
  border-radius:14px;
  background:#f8fafc;
}
.newsTitle{ font-weight:800; color:#0f172a; }
.newsMeta{ color:#64748b; font-size:.8rem; margin-top:2px; }
.newsLink{ color:#0f172a; text-decoration:none; }
.newsLink:hover{ text-decoration:underline; }

.kbBox{
  background:linear-gradient(180deg,#ffffff, #f8fafc);
  border:1px solid #e5e7eb;
  border-radius:16px;
  padding:16px;
}
.quote{
  font-size:1.05rem;
  font-weight:900;
  color:#0f172a;
  line-height:1.4;
}
</style>
</head>

<body class="bg-slate-50">

<header class="sticky top-0 z-20 bg-white/90 backdrop-blur border-b border-slate-200">
  <div class="max-w-[1440px] mx-auto px-2 py-3 flex items-center gap-3">
    <a href="omnicare_logo.png" aria-label="메인으로 이동">
      <img src="omnicare_logo.png"
           alt="옴니케어 로고"
           class="h-12 object-contain cursor-pointer" />
    </a>
    <div class="flex-1">
      <div class="font-semibold text-slate-900">OmniCare Intelligence Hub</div>
      <div class="text-sm muted">매출 현황 · 대표 메시지 · 업계 소식</div>
    </div>
    <button onclick="goMyPage()" class="btn2">마이페이지</button>
  </div>
</header>

<main class="max-w-[1440px] mx-auto px-2 py-6 space-y-6">

  <!-- 1행: KMI + OmniCare (같은 행) -->
  <section class="grid grid-cols-1 lg:grid-cols-2 gap-4">
    <!-- KMI -->
    <div class="card p-5">
      <div class="flex items-start justify-between gap-3">
        <div>
          <div class="font-extrabold text-slate-900 text-lg">KMI 검진 누계 매출</div>
          <div class="muted small">목표(회색) 대비 누계(진한색) · 전체 지점 한 차트</div>
        </div>
        <span class="chip">단위: 백만원</span>
      </div>

      <div class="chart-wrap" id="kmiChart"></div>
    </div>

    <!-- OmniCare -->
    <div class="card p-5">
      <div class="flex items-start justify-between gap-3">
        <div>
          <div class="font-extrabold text-slate-900 text-lg">옴니케어 누계 매출</div>
          <div class="muted small">2025 예상(하늘색) 대비 누계(남색) · 사업부 한 차트</div>
        </div>
        <span class="chip">단위: 백만원</span>
      </div>

      <div class="chart-wrap" id="omniChart"></div>
    </div>
  </section>

  <!-- 2행: 국보급 이야기(대표님 한 말씀) -->
  <section class="card p-6">
    <div class="flex items-start justify-between gap-3">
      <div>
        <div class="font-extrabold text-slate-900 text-lg">국보급 이야기</div>
        <div class="muted small">대표님 한 말씀</div>
      </div>
      <span class="chip">MESSAGE</span>
    </div>

    <div class="divider my-4"></div>

    <div class="kbBox">
      <div class="quote" id="ceoQuote">“숫자는 과거를 말하고, 실행은 내일을 만든다.”</div>
      <div class="mt-3 text-slate-900 leading-relaxed" id="ceoBody"></div>
      <div class="mt-4 muted small font-semibold" id="ceoSign">— 대표</div>
    </div>
  </section>

 <!-- Industry News -->
<section class="card p-4">
<div class="mb-3 flex items-start justify-between gap-4">
  <div>
    <div class="font-semibold text-slate-900">업계 소식 브리핑</div>
    <div class="muted small">
      주요 카테고리별 핵심 이슈 요약 (각 3건)
    </div>
  </div>

  <!-- 더보기 -->
  <a href="/industry-news.html"
     class="text-sm font-semibold text-slate-700 hover:text-slate-900 transition flex items-center gap-1">
    더보기
    <svg xmlns="http://www.w3.org/2000/svg"
         class="h-4 w-4"
         fill="none"
         viewBox="0 0 24 24"
         stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5l7 7-7 7" />
    </svg>
  </a>
</div>

  </div>

  <div class="divider mb-4"></div>

  <!-- 2x2 Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

    <!-- 건강검진 -->
    <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold">건강검진</div>
        <span class="chip">TREND</span>
      </div>
      <ul class="space-y-2 text-sm">
        <li>• 기업 검진 예산, 선택형·맞춤형으로 이동</li>
        <li>• 2030 직장인, 기본검진보다 옵션 검진 선호</li>
        <li>• 검진 결과 ‘사후 관리’ 서비스 중요도 증가</li>
      </ul>
    </div>

    <!-- 검진센터 -->
    <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold">검진센터</div>
        <span class="chip">CENTER</span>
      </div>
      <ul class="space-y-2 text-sm">
        <li>• 수도권 대형 센터, 주말 슬롯 조기 마감 지속</li>
        <li>• 지방 센터, 출장검진 비중 확대 추세</li>
        <li>• 내시경·MRI 장비 투자 양극화 심화</li>
      </ul>
    </div>

    <!-- 경쟁사 -->
    <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold">경쟁사</div>
        <span class="chip">COMPETITOR</span>
      </div>
      <ul class="space-y-2 text-sm">
        <li>• 일부 플랫폼, 병원 운영툴 무료 제공 전략</li>
        <li>• 중개 수수료 인하 경쟁으로 수익성 압박</li>
        <li>• 내부거래 의존도 높은 구조 지속 노출</li>
      </ul>
    </div>

    <!-- 헬스케어 -->
    <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold">헬스케어</div>
        <span class="chip">HEALTHCARE</span>
      </div>
      <ul class="space-y-2 text-sm">
        <li>• 웨어러블 기반 건강 데이터 활용 확대</li>
        <li>• AI 판독·리포트 자동화 솔루션 확산</li>
        <li>• 예방 중심 헬스케어 서비스 투자 증가</li>
      </ul>
    </div>

  </div>
</section>


  <footer class="text-center muted small py-6">
    샘플 화면입니다. 실제 서비스에서는 DB/권한/감사로그/매출 집계/뉴스 수집이 추가됩니다.
  </footer>
</main>

<script>
/* ================= 마이페이지 라우팅(샘플) ================= */
const CURRENT_USER = { id:"u1", name:"김영업", team:"A팀", role:"sales" };
function goMyPage(){
  if (CURRENT_USER.role === "sales") return location.href = "mypage_sales.html";
  if (CURRENT_USER.role === "manager") return location.href = "mypage_manager.html";
  return location.href = "mypage_ceo.html";
}

/* ================== 데이터(샘플) ================== */
/* 단위: 백만원 */
const KMI = [
  { name:"광화문", goal:53000, actual:12141, diff:+2567 },
  { name:"여의도", goal:63900, actual:15262, diff:+972 },
  { name:"강남",   goal:68700, actual:17489, diff:+1562 },
  { name:"수원",   goal:66300, actual:17845, diff:+2202 },
  { name:"대구",   goal:46650, actual:12000, diff:+463 },
  { name:"부산",   goal:47100, actual:12222, diff:+481 },
  { name:"광주",   goal:41750, actual:11684, diff:+1176 },
  { name:"제주",   goal:9600,  actual:2260,  diff:+807 },
  { name:"수도권출장", goal:3000, actual:1066, diff:-88 },
];

const OMNI = [
  { name:"1본부", goal:80000, actual:42000, diff:+980 },
  { name:"2본부", goal:70000, actual:38000, diff:+620 },
  { name:"수원",  goal:40000, actual:26000, diff:+310 },
  { name:"대구",  goal:45000, actual:29000, diff:+450 },
  { name:"부산",  goal:42000, actual:28000, diff:+220 },
  { name:"광주",  goal:30000, actual:19000, diff:+180 },
  { name:"제휴",  goal:35000, actual:22000, diff:+210 },
];

const CEO = {
  quote: "“숫자는 과거를 말하고, 실행은 내일을 만든다.”",
  body: [
    "오늘은 누계보다 속도를 봅시다.",
    "우리가 이기는 포인트는 ‘단가’가 아니라 ‘운영 편의성’과 ‘전환 정밀도’입니다.",
    "각 조직은 상위 3개 레버(리드→미팅→계약, 정산, 재구매)를 ‘매주 하나’만 개선해도 누계는 자연히 따라옵니다."
  ],
  sign: "— 대표"
};

const TOP_NEWS = [
  { tag:"핵심", title:"검진 예약 플랫폼 경쟁 심화… 병원 운영툴 제공이 승부처", date:"2025-12-10", summary:"단순 중개에서 운영효율(정산/리포트/스케줄) 제공으로 가치 이동.", link:"#"},
  { tag:"정책", title:"기업 복지 예산 조정… 건강검진 항목 재정비 움직임", date:"2025-12-05", summary:"혜택 체감과 ROI 중심 의사결정 가속.", link:"#"},
  { tag:"거시", title:"환율 변동성 확대… 기업 비용 구조 점검 수요 증가", date:"2025-11-28", summary:"비용 절감 국면에서 효율·자동화 요구 상승.", link:"#"},
];

const CATEGORY_NEWS = [
  {
    category:"국보급 소식(옴니케어/내부)",
    tag:"국보급",
    items:[
      { title:"대표 주간 코멘트: ‘전환율이 이익이다’", date:"2025-12-15", summary:"이번 주 KPI는 ‘미팅 전환’과 ‘정산 리드타임’ 두 가지.", link:"#"},
      { title:"withKMI 운영 정책 업데이트 예정", date:"2025-12-13", summary:"상담→예약→정산 단계별 체크리스트 배포.", link:"#"},
      { title:"Top 10 계정 리스크 점검 회의(월례)", date:"2025-12-11", summary:"미수/장기미접촉 계정 우선순위 재정렬.", link:"#"},
    ]
  },
  {
    category:"건강검진",
    tag:"검진",
    items:[
      { title:"검진센터 내시경 라인 증설… 예약 여력 확대", date:"2025-12-12", summary:"주말 슬롯은 제한, 평일 물량은 증가.", link:"#"},
      { title:"종합검진 패키지 개편… 옵션 다양화 추세", date:"2025-12-09", summary:"기본형 가격 인하+프리미엄 옵션 확대.", link:"#"},
      { title:"기업 검진 문의 증가… 운영 편의성 요구 확대", date:"2025-12-08", summary:"정산·리포트 자동화가 주요 요구로 부상.", link:"#"},
    ]
  },
  {
    category:"플랫폼/IT",
    tag:"IT",
    items:[
      { title:"병원 운영툴(정산/스케줄/리포트) 제공이 차별화", date:"2025-12-10", summary:"B2B 전환은 ‘관리자 편의’에서 결정.", link:"#"},
      { title:"CRM 기반 영업 행동지표 관리 확산", date:"2025-12-07", summary:"접촉/제안/미팅/견적 이벤트를 데이터화.", link:"#"},
      { title:"데이터 품질(QA)과 권한 분리 필요성 확대", date:"2025-12-06", summary:"EIS는 ‘정확도’가 신뢰를 만든다.", link:"#"},
    ]
  },
  {
    category:"경쟁사",
    tag:"경쟁",
    items:[
      { title:"경쟁사, 플랫폼 운영 인력 확충 움직임", date:"2025-12-05", summary:"운영 인건비 증가로 수익모델 재정비 가능성.", link:"#"},
      { title:"제휴 검진센터 확대… 네트워크 경쟁 격화", date:"2025-12-03", summary:"커버리지 확대+운영툴 제공 조합이 핵심.", link:"#"},
      { title:"광고비 외 ‘채널 제휴’ 중심으로 전환", date:"2025-12-01", summary:"콘텐츠/멤버십 제휴로 CAC 관리.", link:"#"},
    ]
  }
];

/* ================== 렌더: 차트(이미지 스타일) ================== */
function renderOverlayBarChart(data, wrapId, mode){
  const wrap = document.getElementById(wrapId);
  wrap.innerHTML = "";
  const maxGoal = Math.max(...data.map(d=>d.goal||0), 1);

  data.forEach(d=>{
    const goalH = (d.goal/maxGoal)*100;
    const actualH = (d.actual/maxGoal)*100;

    const col = document.createElement("div");
    col.className = "bar-col";

    const goalClass = (mode==="omni") ? "bar-goal omni-goal" : "bar-goal";
    const actualClass = (mode==="omni") ? "bar-actual omni-actual" : "bar-actual kmi-actual";

    col.innerHTML = `
      <div class="top-num">${d.goal.toLocaleString()}</div>

      <div class="bar-area">
        <div class="${goalClass}" style="height:${goalH}%"></div>
        <div class="${actualClass}" style="height:${actualH}%"></div>
      </div>

      <div class="mid-diff">${d.diff>=0?'+':''}${d.diff.toLocaleString()}</div>
      <div class="bottom-num">${d.actual.toLocaleString()}</div>
      <div class="bar-label">${d.name}</div>
    `;
    wrap.appendChild(col);
  });
}

/* ================== 렌더: 대표 메시지 ================== */
function renderCEO(){
  document.getElementById("ceoQuote").textContent = CEO.quote;
  document.getElementById("ceoBody").innerHTML = CEO.body.map(p=>`<p class="mt-2">${p}</p>`).join("");
  document.getElementById("ceoSign").textContent = CEO.sign;
}

/* ================== 렌더: 뉴스 ================== */
function renderNews(){
  // top 3
  const topWrap = document.getElementById("topNews");
  topWrap.innerHTML = "";
  TOP_NEWS.slice(0,3).forEach(n=>{
    const div = document.createElement("div");
    div.className = "newsItem";
    div.innerHTML = `
      <div class="flex items-center justify-between gap-2">
        <a class="newsLink newsTitle" href="${n.link}" target="_blank" rel="noopener">${n.title}</a>
        <span class="chip">${n.tag}</span>
      </div>
      <div class="newsMeta">${n.date} · ${n.summary}</div>
    `;
    topWrap.appendChild(div);
  });

  // categories
  const catWrap = document.getElementById("catNews");
  catWrap.innerHTML = "";
  CATEGORY_NEWS.forEach(block=>{
    const card = document.createElement("div");
    card.className = "newsCard";
    card.innerHTML = `
      <div class="flex items-center justify-between">
        <div class="font-extrabold text-slate-900">${block.category}</div>
        <span class="chip">${block.tag}</span>
      </div>
      <div class="mt-3 space-y-2">
        ${block.items.slice(0,3).map(n=>`
          <div class="newsItem">
            <div class="flex items-start justify-between gap-2">
              <a class="newsLink newsTitle" href="${n.link}" target="_blank" rel="noopener">${n.title}</a>
            </div>
            <div class="newsMeta">${n.date} · ${n.summary}</div>
          </div>
        `).join("")}
      </div>
    `;
    catWrap.appendChild(card);
  });
}

/* ================== 초기 렌더 ================== */
renderOverlayBarChart(KMI, "kmiChart", "kmi");
renderOverlayBarChart(OMNI, "omniChart", "omni");
renderCEO();
renderNews();
</script>
</body>
</html>
